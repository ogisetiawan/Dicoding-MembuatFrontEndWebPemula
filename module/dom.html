<!DOCTYPE html>
<html>

<head>
    <title>Document Object Model</title>
    <style>
        button {
            width: 200px;
            font-size: 15px;
            margin: 8px;
            padding: 3px;
        }
    </style>
</head>

<body>
    <div align="center">
        <h2>Its DOM Time!</h2>
        <img id="gambar"
            src="https://d17ivq9b7rppb3.cloudfront.net/original/commons/homepage-dicoding-challenge-illustration.png"
            alt="Its a rubiks cube!" width="150" height="100">
        <p id="caption"><b>Beberapa fungsi dari DOM:<b></p>
        <div class="button-group" id="buttonGroup">
            <div id="ukuran" class="button"><button>Merubah Ukuran</button></div>
            <div class="button" onclick="ubahAttributeBtn()"><button>Menonaktifkan Button</button></div>
            <div class="button" onclick="ubahText()"><button>Merubah Text</button></div> 
            <div class="button" onclick="ubahStyle()"><button>Merubah Style Button</button></div>
            <div class="button" onclick="tambahButton()"><button>Menambah Button</button></div>
            <div class="button" id="refresh" onclick="window.location.reload()"><button>Refresh</button></div>
        </div>
    </div>
    <script>
        function ubahUkuran() {
            const gambar = document.getElementById("gambar");
            let lebar = window.prompt('Masukan lebar'); //? set window prompt lebar (popup)
            let tinggi = window.prompt('Masukan tinggi');
            gambar.setAttribute('width', lebar);
            gambar.setAttribute('height', tinggi);
        }

        //? cara memangil inline event handler onclick
        function ubahAttributeBtn() {
            let nomorButton = window.prompt('Masukan nomor button'); //? set window prompt lebar (popup)
            let classButton = document.querySelectorAll('.button')[nomorButton]; //? mencari tag melalui class
            const elemenButton = classButton.childNodes[0]; //? ambil lebih specific elemen button karena masih didalam tag div
            elemenButton.setAttribute('disabled', 'disabled');
        }

        function ubahText() {
            const caption = document.getElementById('caption');
            if (window.confirm('Apakah ingin merubah HTML ')) { //? window confirm
                caption.innerHTML = '<i>Beberapa fungsi dari DOM</i>'; //? termasuk tag HTML
            } else {
                let text = window.prompt('Masukan kata yang dirubah');
                caption.innerText = text; //? hanya text dari bagian tag HTMLs
            }
        }

        function ubahStyle() {
            if (window.confirm('Apakah ingin merubah semua ')) { //? window confirm
                const classButton = document.querySelectorAll('.button'); //? mencari tag melalui class
                for (const elemen of classButton) {
                    elemen.childNodes[0].style.color = 'blue'; //? ambil lebih specific elemen button karena masih didalam tag div
                }
            } else {
                const classButton = document.querySelector('#refresh'); //? mencari tag melalui query yang lebih specific (ID,CLASS)
                classButton.style.background = 'red';
            }
        }

        function tambahButton() {
            const button = document.getElementById('buttonGroup');  // tag parent
            const newButton = document.createElement('div'); // create new element div
            newButton.innerHTML = '<button>Button Baru</button>'; // add tag HTML button
            if (window.confirm('Apakah ingin menambah button di akhir?')) { //? window confirm
                button.appendChild(newButton);  // menambah tag HTML di akhir (child)
            } else {
                const buttonAwal = document.getElementById('ukuran');
                button.insertBefore(newButton, buttonAwal); // menambah tag HTML di elemen tertentu
            }
        }
         //? mencari elemen ID, dan menbambahkan ke dalam fungsi tertentu, beda dgn inline event handler
         document.getElementById("ukuran").addEventListener("click", ubahUkuran); // call func ubahUkuran
    </script>
</body>

</html>